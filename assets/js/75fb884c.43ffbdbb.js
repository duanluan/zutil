"use strict";(globalThis.webpackChunkzutil_docs=globalThis.webpackChunkzutil_docs||[]).push([[8128],{739(e,s,t){t.r(s),t.d(s,{assets:()=>d,contentTitle:()=>c,default:()=>a,frontMatter:()=>i,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"reference-doc/io/fileUtil","title":"FileUtil \u6587\u4ef6\u5de5\u5177\u7c7b","description":"\ud83d\udce6 \u5305\u8def\u5f84: top.csaf.io.FileUtil","source":"@site/docs/003-reference-doc/io/fileUtil.md","sourceDirName":"003-reference-doc/io","slug":"/reference-doc/io/fileUtil","permalink":"/zutil/docs/reference-doc/io/fileUtil","draft":false,"unlisted":false,"editUrl":"https://github.com/duanluan/zutil/tree/main/docs/docs/003-reference-doc/io/fileUtil.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"CompressUtil \u538b\u7f29\u89e3\u538b\u5de5\u5177\u7c7b","permalink":"/zutil/docs/reference-doc/io/compressUtil"},"next":{"title":"JSON \u5904\u7406","permalink":"/zutil/docs/category/json-\u5904\u7406"}}');var l=t(5656),r=t(5395);const i={},c="FileUtil \u6587\u4ef6\u5de5\u5177\u7c7b",d={},o=[{value:"\u2728 \u6838\u5fc3\u7279\u6027",id:"-\u6838\u5fc3\u7279\u6027",level:2},{value:"\ud83d\ude80 \u5e38\u7528\u65b9\u6cd5\u6982\u89c8",id:"-\u5e38\u7528\u65b9\u6cd5\u6982\u89c8",level:2},{value:"1. \u8def\u5f84\u4e0e\u73af\u5883\u83b7\u53d6 (Path &amp; Env) \ud83c\udf0d",id:"1-\u8def\u5f84\u4e0e\u73af\u5883\u83b7\u53d6-path--env-",level:3},{value:"2. \u8d44\u6e90\u52a0\u8f7d (Resources) \ud83d\udcc2",id:"2-\u8d44\u6e90\u52a0\u8f7d-resources-",level:3},{value:"3. \u6587\u4ef6\u540d\u4e0e\u6269\u5c55\u540d\u89e3\u6790 (Parse) \ud83d\udd0d",id:"3-\u6587\u4ef6\u540d\u4e0e\u6269\u5c55\u540d\u89e3\u6790-parse-",level:3},{value:"4. \u8def\u5f84\u66ff\u6362\u4e0e\u91cd\u547d\u540d (Replace) \ud83d\udd04",id:"4-\u8def\u5f84\u66ff\u6362\u4e0e\u91cd\u547d\u540d-replace-",level:3},{value:"\ud83d\udcda \u7ee7\u627f\u80fd\u529b (Commons IO)",id:"-\u7ee7\u627f\u80fd\u529b-commons-io",level:2}];function h(e){const s={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.header,{children:(0,l.jsx)(s.h1,{id:"fileutil-\u6587\u4ef6\u5de5\u5177\u7c7b",children:"FileUtil \u6587\u4ef6\u5de5\u5177\u7c7b"})}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.p,{children:["\ud83d\udce6 ",(0,l.jsx)(s.strong,{children:"\u5305\u8def\u5f84"}),": ",(0,l.jsx)(s.code,{children:"top.csaf.io.FileUtil"})]}),"\n",(0,l.jsxs)(s.p,{children:["\ud83d\udd17 ",(0,l.jsx)(s.strong,{children:"\u6240\u5c5e\u6a21\u5757"}),": ",(0,l.jsx)(s.code,{children:"zutil-io"})]}),"\n",(0,l.jsxs)(s.p,{children:["\ud83e\uddec ",(0,l.jsx)(s.strong,{children:"\u7ee7\u627f\u5173\u7cfb"}),": \u7ee7\u627f\u81ea ",(0,l.jsx)(s.code,{children:"org.apache.commons.io.FileUtils"})]}),"\n"]}),"\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.strong,{children:"FileUtil"})," \u662f\u4e00\u4e2a\u5f3a\u5927\u7684\u6587\u4ef6\u64cd\u4f5c\u5de5\u5177\u7c7b\u3002\u5b83\u7ee7\u627f\u81ea Apache Commons IO \u7684 ",(0,l.jsx)(s.code,{children:"FileUtils"}),"\uff0c\u4fdd\u7559\u4e86\u5176\u6240\u6709\u5f3a\u5927\u7684\u6587\u4ef6\u8bfb\u5199\u3001\u62f7\u8d1d\u3001\u79fb\u52a8\u7b49\u529f\u80fd\uff0c\u5e76\u5728\u6b64\u57fa\u7840\u4e0a\u6269\u5c55\u4e86",(0,l.jsx)(s.strong,{children:"\u9879\u76ee\u8def\u5f84\u83b7\u53d6"}),"\u3001",(0,l.jsx)(s.strong,{children:"\u8d44\u6e90\u6587\u4ef6\u52a0\u8f7d"}),"\u3001",(0,l.jsx)(s.strong,{children:"\u6587\u4ef6\u540d/\u6269\u5c55\u540d\u89e3\u6790"}),"\u4ee5\u53ca",(0,l.jsx)(s.strong,{children:"\u8def\u5f84\u66ff\u6362"}),"\u7b49\u5b9e\u7528\u529f\u80fd\u3002"]}),"\n",(0,l.jsx)(s.h2,{id:"-\u6838\u5fc3\u7279\u6027",children:"\u2728 \u6838\u5fc3\u7279\u6027"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"\u5b8c\u5168\u517c\u5bb9"}),": \u7ee7\u627f\u81ea ",(0,l.jsx)(s.code,{children:"commons-io"}),"\uff0c\u65e0\u7f1d\u4f7f\u7528\u5176\u6240\u6709\u6807\u51c6\u6587\u4ef6\u64cd\u4f5c\u65b9\u6cd5\uff08\u5982 ",(0,l.jsx)(s.code,{children:"writeStringToFile"}),", ",(0,l.jsx)(s.code,{children:"copyFile"})," \u7b49\uff09\u3002"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"\u8def\u5f84\u83b7\u53d6"}),": \u8f7b\u677e\u83b7\u53d6\u9879\u76ee\u6839\u8def\u5f84\u3001\u5de5\u4f5c\u76ee\u5f55\u3001ClassPath \u6839\u8def\u5f84\uff0c\u81ea\u52a8\u5904\u7406\u4e0d\u540c\u64cd\u4f5c\u7cfb\u7edf\u7684\u8def\u5f84\u5dee\u5f02\uff08\u5982 Windows \u4e0b\u53bb\u9664\u5f00\u5934\u7684 ",(0,l.jsx)(s.code,{children:"/"}),"\uff09\u3002"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"\u8d44\u6e90\u52a0\u8f7d"}),": \u7b80\u5316 ",(0,l.jsx)(s.code,{children:"resources"})," \u76ee\u5f55\u4e0b\u6587\u4ef6\u7684\u6d41\u83b7\u53d6\uff0c\u65e0\u9700\u5173\u5fc3\u8def\u5f84\u524d\u7f00\u95ee\u9898\u3002"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"\u6b63\u5219\u89e3\u6790"}),": \u5229\u7528\u53cd\u5411\u6b63\u5219\u9ad8\u6548\u63d0\u53d6\u6587\u4ef6\u540d\u3001\u6269\u5c55\u540d\u3001\u76ee\u5f55\u8def\u5f84\u3002"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"\u8def\u5f84\u6a21\u677f"}),": \u63d0\u4f9b\u652f\u6301\u53d8\u91cf\uff08$1, $2\uff09\u7684\u6587\u4ef6\u8def\u5f84\u66ff\u6362\u529f\u80fd\uff0c\u65b9\u4fbf\u6587\u4ef6\u91cd\u547d\u540d\u6216\u8fc1\u79fb\u3002"]}),"\n"]}),"\n",(0,l.jsx)(s.h2,{id:"-\u5e38\u7528\u65b9\u6cd5\u6982\u89c8",children:"\ud83d\ude80 \u5e38\u7528\u65b9\u6cd5\u6982\u89c8"}),"\n",(0,l.jsx)(s.h3,{id:"1-\u8def\u5f84\u4e0e\u73af\u5883\u83b7\u53d6-path--env-",children:"1. \u8def\u5f84\u4e0e\u73af\u5883\u83b7\u53d6 (Path & Env) \ud83c\udf0d"}),"\n",(0,l.jsx)(s.p,{children:"\u83b7\u53d6\u5f53\u524d\u8fd0\u884c\u73af\u5883\u7684\u76f8\u5173\u8def\u5f84\u3002"}),"\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{style:{textAlign:"left"},children:"\u65b9\u6cd5\u540d"}),(0,l.jsx)(s.th,{style:{textAlign:"left"},children:"\u63cf\u8ff0"}),(0,l.jsx)(s.th,{style:{textAlign:"left"},children:"\u793a\u4f8b"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.code,{children:"getUserDir"})}),(0,l.jsxs)(s.td,{style:{textAlign:"left"},children:["\u83b7\u53d6\u5de5\u4f5c\u76ee\u5f55 (",(0,l.jsx)(s.code,{children:"user.dir"}),")"]}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:"Tomcat Bin \u76ee\u5f55\u6216\u9879\u76ee\u6839\u76ee\u5f55"})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.code,{children:"getProjectPath"})}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:"\u83b7\u53d6\u9879\u76ee\u89c4\u8303\u8def\u5f84"}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.code,{children:"/path/to/project"})})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.code,{children:"getResourceRootPath"})}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:"\u83b7\u53d6\u7c7b\u52a0\u8f7d\u6839\u8def\u5f84 (target/classes)"}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.code,{children:"/path/to/classes/"})})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.code,{children:"getClassPath"})}),(0,l.jsxs)(s.td,{style:{textAlign:"left"},children:["\u83b7\u53d6\u6307\u5b9a\u7c7b\u7684 ",(0,l.jsx)(s.code,{children:".class"})," \u6587\u4ef6\u6240\u5728\u8def\u5f84"]}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.code,{children:"/path/to/classes/top/csaf/io/"})})]})]})]}),"\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.strong,{children:"\u793a\u4f8b\u4ee3\u7801"}),":"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-java",children:"// \u83b7\u53d6 resources \u6839\u76ee\u5f55 (target/classes)\r\nString rootPath = FileUtil.getResourceRootPath();\r\n\r\n// \u83b7\u53d6\u5f53\u524d\u7c7b\u7684\u8def\u5f84\r\nString classPath = FileUtil.getClassPath(FileUtil.class);\r\n\n"})}),"\n",(0,l.jsx)(s.h3,{id:"2-\u8d44\u6e90\u52a0\u8f7d-resources-",children:"2. \u8d44\u6e90\u52a0\u8f7d (Resources) \ud83d\udcc2"}),"\n",(0,l.jsxs)(s.p,{children:["\u7b80\u5316\u4ece ClassPath (",(0,l.jsx)(s.code,{children:"src/main/resources"}),") \u8bfb\u53d6\u6587\u4ef6\u7684\u64cd\u4f5c\u3002"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-java",children:'// \u8bfb\u53d6 resources/config/app.yml\r\nInputStream is = FileUtil.getResourceAsStream("config/app.yml");\r\n\r\n// \u76f8\u5bf9\u4e8e\u6307\u5b9a\u7c7b\u52a0\u8f7d\u8d44\u6e90\r\nInputStream is2 = FileUtil.getResourceAsStream(MyClass.class, "test.txt");\r\n\n'})}),"\n",(0,l.jsx)(s.h3,{id:"3-\u6587\u4ef6\u540d\u4e0e\u6269\u5c55\u540d\u89e3\u6790-parse-",children:"3. \u6587\u4ef6\u540d\u4e0e\u6269\u5c55\u540d\u89e3\u6790 (Parse) \ud83d\udd0d"}),"\n",(0,l.jsx)(s.p,{children:"\u4f7f\u7528\u6b63\u5219\u7cbe\u786e\u89e3\u6790\u6587\u4ef6\u8def\u5f84\u4e2d\u7684\u5404\u4e2a\u90e8\u5206\u3002"}),"\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"\u65b9\u6cd5\u540d"}),(0,l.jsx)(s.th,{children:"\u63cf\u8ff0"}),(0,l.jsx)(s.th,{children:"\u8f93\u5165\u793a\u4f8b"}),(0,l.jsx)(s.th,{children:"\u8f93\u51fa\u793a\u4f8b"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"getFileExtension"})}),(0,l.jsx)(s.td,{children:"\u83b7\u53d6\u6587\u4ef6\u540e\u7f00\u540d"}),(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"/a/b/test.txt"})}),(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"txt"})})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"getNameByPath"})}),(0,l.jsx)(s.td,{children:"\u83b7\u53d6\u6587\u4ef6\u540d (\u542b\u540e\u7f00)"}),(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"/a/b/test.txt"})}),(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"test.txt"})})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"getDirPathByPath"})}),(0,l.jsx)(s.td,{children:"\u83b7\u53d6\u7236\u76ee\u5f55\u8def\u5f84"}),(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"/a/b/test.txt"})}),(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"/a/b/"})})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"getDirPathAndNameByPath"})}),(0,l.jsx)(s.td,{children:"\u540c\u65f6\u83b7\u53d6\u76ee\u5f55\u548c\u6587\u4ef6\u540d"}),(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"/a/b/test.txt"})}),(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:'["/a/b/", "test.txt"]'})})]})]})]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-java",children:'String path = "/data/logs/error.log";\r\n\r\nString ext = FileUtil.getFileExtension(path); // -> "log"\r\nString name = FileUtil.getNameByPath(path);   // -> "error.log"\r\nString dir = FileUtil.getDirPathByPath(path); // -> "/data/logs/"\r\n\n'})}),"\n",(0,l.jsx)(s.h3,{id:"4-\u8def\u5f84\u66ff\u6362\u4e0e\u91cd\u547d\u540d-replace-",children:"4. \u8def\u5f84\u66ff\u6362\u4e0e\u91cd\u547d\u540d (Replace) \ud83d\udd04"}),"\n",(0,l.jsx)(s.p,{children:"\u652f\u6301\u4f7f\u7528\u6a21\u677f\u53d8\u91cf\u751f\u6210\u65b0\u8def\u5f84\uff0c\u5e38\u7528\u4e8e\u6587\u4ef6\u91cd\u547d\u540d\u6216\u683c\u5f0f\u8f6c\u6362\u573a\u666f\u3002"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"$1"}),": \u539f\u6587\u4ef6\u540d (\u4e0d\u542b\u540e\u7f00)"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"$2"}),": \u539f\u540e\u7f00\u540d"]}),"\n"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-java",children:'String src = "/data/images/photo.png";\r\n\r\n// \u573a\u666f 1: \u4fee\u6539\u540e\u7f00\u540d (photo.png -> photo.jpg)\r\n// \u53ea\u6709\u6587\u4ef6\u540d\u90e8\u5206\uff0c\u4fdd\u6301\u539f\u76ee\u5f55\u4e0d\u53d8\r\nString newPath1 = FileUtil.replace(src, "$1.jpg");\r\n// -> "/data/images/photo.jpg"\r\n\r\n// \u573a\u666f 2: \u79fb\u52a8\u76ee\u5f55\u5e76\u91cd\u547d\u540d (photo.png -> /backup/photo_bak.png)\r\nString newPath2 = FileUtil.replace(src, "/backup/$1_bak.$2");\r\n// -> "/backup/photo_bak.png"\r\n\n'})}),"\n",(0,l.jsx)(s.h2,{id:"-\u7ee7\u627f\u80fd\u529b-commons-io",children:"\ud83d\udcda \u7ee7\u627f\u80fd\u529b (Commons IO)"}),"\n",(0,l.jsxs)(s.p,{children:["\u7531\u4e8e\u7ee7\u627f\u81ea ",(0,l.jsx)(s.code,{children:"org.apache.commons.io.FileUtils"}),"\uff0c\u4f60\u8fd8\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u4ee5\u4e0b\u5e38\u7528\u9759\u6001\u65b9\u6cd5\uff1a"]}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"readFileToString(File, Charset)"}),": \u8bfb\u53d6\u6587\u4ef6\u5185\u5bb9\u4e3a\u5b57\u7b26\u4e32\u3002"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"writeStringToFile(File, String, Charset)"}),": \u5b57\u7b26\u4e32\u5199\u5165\u6587\u4ef6\u3002"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"copyFile(File, File)"}),": \u590d\u5236\u6587\u4ef6\u3002"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"forceDelete(File)"}),": \u5f3a\u5236\u5220\u9664\u6587\u4ef6/\u76ee\u5f55\u3002"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"sizeOf(File)"}),": \u83b7\u53d6\u6587\u4ef6/\u76ee\u5f55\u5927\u5c0f\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.p,{children:["\u66f4\u591a\u7236\u7c7b\u529f\u80fd\u8bf7\u53c2\u8003 ",(0,l.jsx)(s.a,{href:"https://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/FileUtils.html",children:"Commons IO \u5b98\u65b9\u6587\u6863"}),"\u3002"]}),"\n"]})]})}function a(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}},5395(e,s,t){t.d(s,{R:()=>i,x:()=>c});var n=t(7140);const l={},r=n.createContext(l);function i(e){const s=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),n.createElement(r.Provider,{value:s},e.children)}}}]);