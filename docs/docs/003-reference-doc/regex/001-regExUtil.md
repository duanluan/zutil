# RegExUtil æ­£åˆ™å·¥å…·ç±»

> ğŸ“¦ **åŒ…è·¯å¾„**: `top.csaf.regex.RegExUtil`

**æ­£åˆ™å·¥å…·ç±»**ï¼Œæä¾›åŸºäº `java.util.regex` çš„å°è£…ï¼Œç®€åŒ–åŒ¹é…ã€æå–ã€æ›¿æ¢å’Œåˆ é™¤æ“ä½œã€‚

## ğŸ’¡ æ ¸å¿ƒæ¦‚å¿µ

- ç†è§£æ¦‚å¿µï¼šæ–‡æœ¬`123`ï¼Œæ­£åˆ™`(1)2`ï¼Œ**åŒ¹é…é¡¹**1ï¼ˆ**Match**1ï¼‰ä¸º`12`ï¼Œ**æ•è·ç»„**1ï¼ˆ**Group**1ï¼‰ä¸º`1`ã€‚

- åŒ¹é…é¡¹ä» 0 å¼€å§‹ï¼Œæ•è·ç»„ä» 1 å¼€å§‹ï¼Œæ•è·ç»„ä¸º 0 æ—¶ä»£è¡¨**æ‰€åœ¨åŒ¹é…é¡¹æ‰€æœ‰æ•è·ç»„**ã€‚

- æ•è·ç»„è™½ç„¶åœ¨åŒ¹é…é¡¹ï¼Œä½†ç¬¬äºŒä¸ª**åŒ¹é…é¡¹çš„æ•è·ç»„åºå·å¹¶ä¸æ˜¯ä» 1 å¼€å§‹**çš„ã€‚

  æ¯”å¦‚æ–‡æœ¬`123`ï¼Œæ­£åˆ™`(1)|(2)3`ï¼Œå®é™…ç»“æœä¸ºï¼š

  | åç§°    | startPos-endPos | å†…å®¹ |
  |---------|-----------------|----|
  | Match 1 | 0-1             | 1  |
  | Group 1 | 0-1             | 1  |
  | Match 2 | 1-3             | 23 |
  | Group 2 | 1-2             | 2  |

  è€Œä¸‹åˆ—æ–¹æ³•ä¸­çš„â€œ**æŒ‡å®šæ•è·ç»„**â€æˆ–â€œ**ç¬¬ä¸€ä¸ªæ•è·ç»„**â€éƒ½åšäº†å¤„ç†ï¼Œ**æ¯ä¸ªåŒ¹é…é¡¹ä¸­çš„æ•è·ç»„éƒ½ä» 1 ç®—èµ·**ï¼Œé™¤éå…¥å‚`useLocalGrouping`ä¸º`false`ã€‚

## ğŸ¯ åŒ¹é… (Match)

| æ–¹æ³•å                     | å«ä¹‰                           | ç¤ºä¾‹ï¼ˆä¸ä¼ å‚ flagsï¼‰                                                           | å€¼           | 
|-------------------------|------------------------------|-------------------------------------------------------------------------|-------------|
| match                   | è·å–**æŒ‡å®š**åŒ¹é…é¡¹çš„**æŒ‡å®š**æ•è·ç»„çš„åŒ¹é…å€¼    | match("123", "1\|(2)(3)", 1, 2)                                         | "3"         |
| matchFirstItem          | è·å–**ç¬¬ä¸€ä¸ª**åŒ¹é…é¡¹çš„**æŒ‡å®š**æ•è·ç»„çš„åŒ¹é…å€¼   | matchFirstItem("123", "(1)(2)\|3", 2)                                   | "2"         |
| matchFirstGroup         | è·å–**æŒ‡å®š**åŒ¹é…é¡¹çš„**ç¬¬ä¸€ä¸ª**æ•è·ç»„çš„åŒ¹é…å€¼   | matchFirstGroup("123", "1\|(2)(3)", 1)                                  | "2"         |
| matchFirstItemGroup     | è·å–**ç¬¬ä¸€ä¸ª**åŒ¹é…é¡¹çš„**ç¬¬ä¸€ä¸ª**æ•è·ç»„çš„åŒ¹é…å€¼  | matchFirstItemGroup("123", "(1)(2)\|3")                                 | "1"         |
| matchAllItems           | è·å–**æ‰€æœ‰**åŒ¹é…é¡¹çš„**æŒ‡å®š**æ•è·ç»„çš„åŒ¹é…å€¼é›†åˆ  | matchAllItems("1234", "(1)(2)\|(3)(4)", 2)                              | ["2", "4"]  |
| matchAllItemsFirstGroup | è·å–**æ‰€æœ‰**åŒ¹é…é¡¹çš„**ç¬¬ä¸€ä¸ª**æ•è·ç»„çš„åŒ¹é…å€¼é›†åˆ | matchAllItemsFirstGroup("1234", "(1)(2)\|(3)(4)")                       | ["1", "3"]  |
| matchAllGroups          | è·å–**æŒ‡å®š**åŒ¹é…é¡¹çš„**æ‰€æœ‰**æ•è·ç»„çš„åŒ¹é…å€¼é›†åˆ  | matchAllGroups("123", "1\|(2)(3)", 1)                                   | ["2", "3"]  |
| matchAll                | è·å–**æ‰€æœ‰**åŒ¹é…é¡¹çš„**æ‰€æœ‰**æ•è·ç»„çš„åŒ¹é…å€¼é›†åˆ  | matchAll("123", "1\|(2)(3)")ã€matchAll("123", "1\|(2)(3)", false)        | ["2", "3"]  |
| matchAllã€matchAllItems  | è·å–**æ‰€æœ‰**åŒ¹é…é¡¹çš„åŒ¹é…å€¼é›†åˆ            | matchAll("123", "1\|(2)(3)", true)ã€matchAllItems("123", "1\|(2)(3)", 0) | ["1", "23"] |

# ğŸ”„ æ›¿æ¢ (Replace)

| æ–¹æ³•å                        | å«ä¹‰                           | ç¤ºä¾‹ï¼ˆä¸ä¼ å‚ flagsï¼‰                                                                       | å€¼    | 
|----------------------------|------------------------------|-------------------------------------------------------------------------------------|------|
| replace                    | æ›¿æ¢**æŒ‡å®š**åŒ¹é…é¡¹çš„**æŒ‡å®š**æ•è·ç»„çš„åŒ¹é…å€¼    | replace("123", "1\|(2)(3)", "", 1, 2)                                               | "12" |
| replaceFirstItem           | æ›¿æ¢**ç¬¬ä¸€ä¸ª**åŒ¹é…é¡¹çš„**æŒ‡å®š**æ•è·ç»„çš„åŒ¹é…å€¼   | replaceFirstItem("123", "(1)(2)\|3", "", 2)                                         | "13" |
| replaceFirstGroup          | æ›¿æ¢**æŒ‡å®š**åŒ¹é…é¡¹çš„**ç¬¬ä¸€ä¸ª**æ•è·ç»„çš„åŒ¹é…å€¼   | replaceFirstGroup("123", "1\|(2)(3)", "", 1)                                        | "13" |
| replaceFirstItemGroup      | æ›¿æ¢**ç¬¬ä¸€ä¸ª**åŒ¹é…é¡¹çš„**ç¬¬ä¸€ä¸ª**æ•è·ç»„çš„åŒ¹é…å€¼  | replaceFirstItemGroup("123", "(1)(2)\|3", "")                                       | "23" |
| replaceAllItems            | æ›¿æ¢**æ‰€æœ‰**åŒ¹é…é¡¹çš„**æŒ‡å®š**æ•è·ç»„çš„åŒ¹é…å€¼é›†åˆ  | replaceAllItems("1234", "(1)(2)\|(3)(4)", "", 2)                                    | "13" |
| replaceAllItemsFirstGroup  | æ›¿æ¢**æ‰€æœ‰**åŒ¹é…é¡¹çš„**ç¬¬ä¸€ä¸ª**æ•è·ç»„çš„åŒ¹é…å€¼é›†åˆ | replaceAllItemsFirstGroup("1234", "(1)(2)\|(3)(4)", "")                             | "24" |
| replaceAllGroups           | æ›¿æ¢**æŒ‡å®š**åŒ¹é…é¡¹çš„**æ‰€æœ‰**æ•è·ç»„çš„åŒ¹é…å€¼é›†åˆ  | replaceAllGroups("123", "1\|(2)(3)", "", 1)                                         | "1"  |
| replaceAll                 | æ›¿æ¢**æ‰€æœ‰**åŒ¹é…é¡¹çš„**æ‰€æœ‰**æ•è·ç»„çš„åŒ¹é…å€¼é›†åˆ  | replaceAll("123", "1\|(2)(3)", "")ã€replaceAll("123", "1\|(2)(3)", "", false)        | "1"  |
| replaceAllã€replaceAllItems | æ›¿æ¢**æ‰€æœ‰**åŒ¹é…é¡¹çš„åŒ¹é…å€¼é›†åˆ            | replaceAll("123", "1\|(2)(3)", "", true)ã€replaceAllItems("123", "1\|(2)(3)", "", 0) | ""   |

# ğŸ—‘ï¸ åˆ é™¤ (Remove)

| æ–¹æ³•å                      | å«ä¹‰                           | ç¤ºä¾‹ï¼ˆä¸ä¼ å‚ flagsï¼‰                                                             | å€¼    | 
|--------------------------|------------------------------|---------------------------------------------------------------------------|------|
| remove                   | åˆ é™¤**æŒ‡å®š**åŒ¹é…é¡¹çš„**æŒ‡å®š**æ•è·ç»„çš„åŒ¹é…å€¼    | remove("123", "1\|(2)(3)", 1, 2)                                          | "12" |
| removeFirstItem          | åˆ é™¤**ç¬¬ä¸€ä¸ª**åŒ¹é…é¡¹çš„**æŒ‡å®š**æ•è·ç»„çš„åŒ¹é…å€¼   | removeFirstItem("123", "(1)(2)\|3", 2)                                    | "13" |
| removeFirstGroup         | åˆ é™¤**æŒ‡å®š**åŒ¹é…é¡¹çš„**ç¬¬ä¸€ä¸ª**æ•è·ç»„çš„åŒ¹é…å€¼   | removeFirstGroup("123", "1\|(2)(3)", 1)                                   | "13" |
| removeFirstItemGroup     | åˆ é™¤**ç¬¬ä¸€ä¸ª**åŒ¹é…é¡¹çš„**ç¬¬ä¸€ä¸ª**æ•è·ç»„çš„åŒ¹é…å€¼  | removeFirstItemGroup("123", "(1)(2)\|3")                                  | "23" |
| removeAllItems           | åˆ é™¤**æ‰€æœ‰**åŒ¹é…é¡¹çš„**æŒ‡å®š**æ•è·ç»„çš„åŒ¹é…å€¼é›†åˆ  | removeAllItems("1234", "(1)(2)\|(3)(4)", 2)                               | "13" |
| removeAllItemsFirstGroup | åˆ é™¤**æ‰€æœ‰**åŒ¹é…é¡¹çš„**ç¬¬ä¸€ä¸ª**æ•è·ç»„çš„åŒ¹é…å€¼é›†åˆ | removeAllItemsFirstGroup("1234", "(1)(2)\|(3)(4)")                        | "24" |
| removeAllGroups          | åˆ é™¤**æŒ‡å®š**åŒ¹é…é¡¹çš„**æ‰€æœ‰**æ•è·ç»„çš„åŒ¹é…å€¼é›†åˆ  | removeAllGroups("123", "1\|(2)(3)", 1)                                    | "1"  |
| removeAll                | åˆ é™¤**æ‰€æœ‰**åŒ¹é…é¡¹çš„**æ‰€æœ‰**æ•è·ç»„çš„åŒ¹é…å€¼é›†åˆ  | removeAll("123", "1\|(2)(3)")ã€removeAll("123", "1\|(2)(3)", false)        | "1"  |
| removeAllã€removeAllItems | åˆ é™¤**æ‰€æœ‰**åŒ¹é…é¡¹çš„åŒ¹é…å€¼é›†åˆ            | removeAll("123", "1\|(2)(3)", true)ã€removeAllItems("123", "1\|(2)(3)", 0) | ""   |

## ğŸ› ï¸ å…¶ä»–å·¥å…·

| æ–¹æ³•å | å«ä¹‰ | ç¤ºä¾‹ |
| :--- | :--- | :--- |
| `replaceAllSpecialChar` | ä¸ºæ‰€æœ‰æ­£åˆ™ç‰¹æ®Šå­—ç¬¦æ·»åŠ è½¬ä¹‰åæ–œæ  | `replaceAllSpecialChar("1+1=2")` -> `1\+1=2` |
| `getMatcher` | è·å–åŸç”Ÿ `Matcher` å¯¹è±¡ | `getMatcher("content", "regex", Pattern.CASE_INSENSITIVE)` |
